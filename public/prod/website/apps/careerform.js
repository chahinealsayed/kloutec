import{c as Q}from"../chunk/app.js";import{w as W}from"../chunk/m78c574d5c3843a3d.js";import{B as U,_ as X}from"../chunk/Button.js";import{_ as Z,c as x,a as j,b as ee,M as te,S as se,R as oe}from"../chunk/RecaptchaInput.vue_vue_type_style_index_0_lang.js";import{c as ae,a as O,d as le,t as S,s as ne}from"../chunk/api.js";import{_ as ie}from"../chunk/CloseButton.vue_vue_type_script_setup_true_lang.js";import{M as re}from"../chunk/m3fc8d974e5d8216d.js";import{I}from"../chunk/Icon.js";import{m as de,a as ce,b as ue,c as me,d as pe}from"../chunk/m6cd080c8112b9076.js";import{d as V,o as J,g as K,l as h,m as A,v as fe,u as he,s as M,r as l,q as k,t as F,x as C,b as v,y as G,T as ve,a as H,F as _e,z as be,A as ye,B as ge,C as $e,p as ke}from"../chunk/mc55b2a42316522d6.js";import{r as N,u as d}from"../chunk/m6bdda40d8bd2cf5a.js";import{v as B,w as we,K as E,J as Ce}from"../chunk/ma6cfd38af5d4c661.js";import{a as Se}from"../chunk/strings.js";import"../chunk/m21bbc25c9f3922b4.js";import"../chunk/m64d389f71fee61f4.js";import"../chunk/ma0e3fbddd3785020.js";import"../chunk/m3f4393ee064415a4.js";const Be={class:"modal-content"},Fe={key:0,class:"modal-header"},Le=["innerHTML"],Ee={key:2,class:"modal-footer"},Me={class:"d-flex flex-row gap-3"},Te=V({inheritAttrs:!1,__name:"Modal",props:{title:{default:null},center:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},size:{default:null},fullscreen:{type:[Boolean,String],default:!1},backdrop:{type:[Boolean,String],default:"static"},focus:{type:Boolean,default:!1},keyboard:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noClose:{type:Boolean,default:!1},controller:{default:null},closeText:{default:"Close"},tag:{default:"div"},padding:{default:"1rem"}},emits:["close","closed","prevented","open","opened","dismiss"],setup(i,{expose:r,emit:o}){const t=N(null),c=N(null),_=e=>{o("close",e)},m=e=>{o("closed",e),i.controller&&i.controller.removeController()},s=e=>{o("prevented",e)},w=e=>{o("open",e)},u=e=>{o("opened",e)},a=e=>{o("dismiss",e)},n=()=>{var e,p,b,T,y,D,g,R,$,z;c.value=new re(t.value,{backdrop:i.backdrop,focus:i.focus,keyboard:i.keyboard}),(p=(e=t.value)==null?void 0:e.addEventListener)==null||p.call(e,"hide.bs.modal",_),(T=(b=t.value)==null?void 0:b.addEventListener)==null||T.call(b,"hidden.bs.modal",m),(D=(y=t.value)==null?void 0:y.addEventListener)==null||D.call(y,"hidePrevented.bs.modal",s),(R=(g=t.value)==null?void 0:g.addEventListener)==null||R.call(g,"show.bs.modal",w),(z=($=t.value)==null?void 0:$.addEventListener)==null||z.call($,"shown.bs.modal",u)},f=()=>{var e,p;(p=(e=c.value)==null?void 0:e.show)==null||p.call(e)},L=()=>{var e,p;(p=(e=c.value)==null?void 0:e.hide)==null||p.call(e)},Y=()=>{var e,p,b,T,y,D,g,R,$,z,P,q;(p=(e=t.value)==null?void 0:e.removeEventListener)==null||p.call(e,"hide.bs.modal",_),(T=(b=t.value)==null?void 0:b.removeEventListener)==null||T.call(b,"hidden.bs.modal",m),(D=(y=t.value)==null?void 0:y.removeEventListener)==null||D.call(y,"hidePrevented.bs.modal",s),(R=(g=t.value)==null?void 0:g.removeEventListener)==null||R.call(g,"show.bs.modal",w),(z=($=t.value)==null?void 0:$.removeEventListener)==null||z.call($,"shown.bs.modal",u),(q=(P=t.value)==null?void 0:P.dispose)==null||q.call(P)};return r({open:f,close:L,dispose:Y,update:()=>{var e,p;(p=(e=c.value)==null?void 0:e.handleUpdate)==null||p.call(e)}}),J(()=>{n()}),K(()=>{Y()}),(e,p)=>(h(),A(ve,{to:"body"},[(h(),A(fe(e.tag),he({ref_key:"modalRef",ref:t,class:"modal fade",tabindex:"-1"},e.$attrs),{default:M(()=>[l("div",{class:B(["modal-dialog",{"modal-dialog-centered":e.center,"modal-dialog-scrollable":e.scrollable,...e.size?{[`modal-${e.size}`]:!0}:{},...e.fullscreen?{[`modal-fullscreen${typeof e.fullscreen=="string"?`-${e.fullscreen}-down`:""}`]:!0}:{}}])},[l("div",Be,[e.noHeader?C("",!0):(h(),k("div",Fe,[F(e.$slots,"title",{},()=>[l("h5",{class:"modal-title",innerHTML:e.title},null,8,Le)]),F(e.$slots,"header"),e.noClose?C("",!0):(h(),A(ie,{key:0,"data-bs-dismiss":"modal","aria-label":"Close",onClick:a}))])),e.$slots.default?(h(),k("div",{key:1,class:"modal-body",style:we({"--bs-modal-padding":e.padding})},[F(e.$slots,"default")],4)):C("",!0),e.noFooter?C("",!0):(h(),k("div",Ee,[l("div",Me,[e.noClose?C("",!0):(h(),A(U,{key:0,color:"dark","data-bs-dismiss":"modal",onClick:a},{default:M(()=>[v(I,{path:d(de)},null,8,["path"]),G(E(e.closeText),1)]),_:1})),F(e.$slots,"buttons")])]))])],2)]),_:3},16))]))}}),De=ae(Te),Re=(i,r,o="No",t="Yes")=>new Promise(async c=>{const _=Se("confirm"),m=await De({title:i,closeText:o,onOpened:()=>{var s;(s=document.querySelector(`#${_}`))==null||s.addEventListener("click",()=>{m.close(),c(!0)})},onDismiss:()=>{c(!1)}},{...r?{default:()=>H("p",{},r)}:{},buttons:()=>[H(U,{class:["btn","btn-primary"],id:_},[H(I,{path:ce,color:"success"},""),t])]});m.open()});function ze(i,r){return Re(i,r)}const Ae=i=>(be("data-v-6212e155"),i=i(),ye(),i),Ie={class:"select-file-component"},Pe={class:"file-output"},je={class:"extension"},Ne={class:"mime"},Ve={class:"size"},He={class:"name"},Ue={key:0,class:"uploading"},Ye=Ae(()=>l("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},[l("span",{class:"visually-hidden"},"Loading...")],-1)),qe=[Ye],Oe={key:1,class:"actions"},Je={key:1,class:"file-input"},Ke=["accept"],Ge={class:"add-btn"},Qe=V({__name:"SelectFile",props:{section:{default:"files"},accept:{default:"*"},url:{default:null}},emits:["file","add","remove","done","view","cancel"],setup(i,{emit:r}){const o=i,t=N(o.url||null),c=N(!1),_=a=>{const n=a.target.files;n.length>0?m(n[0]):r("cancel")},m=a=>{r("add","file",a);const n=new FileReader;n.onload=f=>{const L=f.target.result;r("add","base64",L),s(L,a.name)},n.onerror=()=>{console.error(`Error occurred reading file: ${a.name}`)},n.readAsDataURL(a)},s=(a,n)=>{a?(c.value=!0,t.value=a,O().post("/media/file",{section:o.section,base64:a,name:n}).then(({data:f})=>{f={...f},t.value=f,r("file",f)}).finally(()=>{c.value=!1,r("done",a)})):le("Something went wrong")},w=()=>{t.value&&window.open(t.value.url,"_blank")},u=()=>{ze("Remove File").then(a=>{a&&(t.value=null,r("file",null),r("remove"))})};return(a,n)=>(h(),k("div",Ie,[t.value?(h(),k(_e,{key:0},[l("div",Pe,[l("div",{class:B({icon:!0,[t.value.extension]:!0})},[l("div",je,E(t.value.extension),1),l("div",Ne,E(t.value.mime),1),l("div",Ve,E(t.value.size),1)],2),l("div",He,E(t.value.name),1)]),c.value?(h(),k("div",Ue,qe)):C("",!0),c.value?C("",!0):(h(),k("div",Oe,[l("button",{type:"button",class:"btn btn-primary btn-sm",onClick:w},[v(I,{path:d(ue)},null,8,["path"])]),l("button",{type:"button",class:"btn btn-danger btn-sm",onClick:u},[v(I,{path:d(me)},null,8,["path"])])]))],64)):(h(),k("label",Je,[l("input",{type:"file",onInput:_,class:"file-input",accept:Array.isArray(a.accept)?a.accept.join(","):a.accept},null,40,Ke),F(a.$slots,"add",{},()=>[l("div",Ge,[v(I,{path:d(pe)},null,8,["path"])])],!0)]))]))}});const We=X(Qe,[["__scopeId","data-v-6212e155"]]),Xe=V({inheritAttrs:!1,__name:"FileInput",props:{field:{},noLabel:{type:Boolean},section:{},accept:{}},setup(i){const r=i,{field:o,noLabel:t=!1,section:c="files",accept:_="*"}=r,m=u=>{o.update(u)},s=(u,a)=>{o.touch({target:{value:a}})},w=u=>{o.blur({target:{value:u}})};return(u,a)=>(h(),A(Z,{field:d(o),"no-label":d(t)},ge({default:M(({id:n})=>[v(We,{id:n,accept:d(_),section:d(c),url:d(o).value??null,onAdd:s,onFile:m,onDone:w},{add:M(()=>[F(u.$slots,"add")]),_:2},1032,["id","accept","section","url"])]),_:2},[$e(u.$slots,(n,f)=>({name:f,fn:M(L=>[F(u.$slots,f,Ce(ke({...L})))])}))]),1032,["field","no-label"]))}}),Ze=["onSubmit"],xe=l("div",{class:"fill-app"},[l("h4",{class:"fw-bold text-primary"},"Please Fill The Application Below")],-1),et={class:"row"},tt={class:"col-md-6"},st={class:"row"},ot={class:"col-md-6"},at={class:"submit-captcha pt-4"},lt={class:"recaptcha"},nt=V({__name:"CareerForm",props:{redirectUrl:{default:""},title:{}},setup(i){class r extends te{get name(){var s;return this.field("name",S("Your name*"),((s=this.initData)==null?void 0:s.name)??"")}get email(){var s;return this.field("email",S("Your e-mail*"),((s=this.initData)==null?void 0:s.email)??"")}get phone(){var s;return this.field("phone",S("Your phone number*"),((s=this.initData)==null?void 0:s.phone)??"")}get job(){var s;return this.field("job",S("Job reference"),((s=this.initData)==null?void 0:s.job)??"")}get file(){var s;return this.field("file",S("CV*"),((s=this.initData)==null?void 0:s.file)??"")}get recaptcha(){var s;return this.field("recaptcha",S("ReCaptcha"),((s=this.initData)==null?void 0:s.recaptcha)??"")}get rules(){return[[[this.name,this.phone,this.email],se],[[this.name,this.email,this.phone,this.job],oe]]}}const[o,t,c]=x(r),_=()=>{var m,s;(s=(m=o.value)==null?void 0:m.validate())==null||s.then(w=>{var u;w&&O().post("/career",((u=o.value)==null?void 0:u.data)??{}).then(({data:a})=>{var n;ne("Form Sent"),console.log((n=o.value)==null?void 0:n.data)}).catch(a=>{var n,f;(f=(n=o.value)==null?void 0:n.addRemoteErrors)==null||f.call(n,a)}).finally(()=>{})})};return J(()=>{t()}),K(()=>{c()}),(m,s)=>d(o)?(h(),k("form",{key:0,onSubmit:W(_,["prevent"]),class:"career-form-vue"},[xe,l("div",et,[l("div",tt,[v(j,{field:d(o).name,class:B("name"),"no-label":""},null,8,["field"]),v(j,{field:d(o).phone,class:B("number"),"no-label":""},null,8,["field"]),v(j,{field:d(o).email,class:B("mail"),"no-label":""},null,8,["field"]),v(j,{value:m.title,field:d(o).job,class:B("mail"),label:!0},null,8,["value","field"]),v(Xe,{field:d(o).file,accept:".pdf",class:B("file")},null,8,["field","accept"])])]),l("div",st,[l("div",ot,[l("div",at,[l("div",null,[v(U,{type:"submit",color:"",class:"submit btn-gradient-2",ref:"button"},{default:M(()=>[G(E(d(S)("Submit Now")),1)]),_:1},512)]),l("div",lt,[v(ee,{field:d(o).recaptcha},null,8,["field"])])])])])],40,Ze)):C("",!0)}});const it=Q("careerform",nt);it.mount();
