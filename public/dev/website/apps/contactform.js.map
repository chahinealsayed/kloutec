{"version":3,"file":"contactform.js","sources":["../../../../resources/js/tiers/website/apps/ContactForm.vue","../../../../resources/js/tiers/website/startup/ContactForm.ts"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport Button from \"@/modules/bootstrap/components/Button.vue\";\r\nimport StringInput from \"@/modules/form/components/StringInput.vue\";\r\nimport TextInput from \"@/modules/form/components/TextInput.vue\";\r\nimport { createModel } from \"@/modules/form/hooks/model\";\r\nimport { Field } from \"@/modules/form/lib/field\";\r\nimport { Model } from \"@/modules/form/lib/model\";\r\nimport { RequiredRule } from \"@/modules/form/rules/required\";\r\nimport { StringRule } from \"@/modules/form/rules/string\";\r\nimport { mdiAccount, mdiFormTextboxPassword, mdiSend } from \"@mdi/js\";\r\nimport { onMounted, onUnmounted, ref } from \"vue\";\r\nimport Icon from \"@/components/Icon.vue\";\r\nimport { api } from \"@/lib/api\";\r\nimport { metadata, translate } from \"@/lib/metadata\";\r\nimport { isDark } from \"@/modules/theme\";\r\nimport RecaptchaInput from \"@/modules/form/components/RecaptchaInput.vue\";\r\n\r\nimport App from \"vue\";\r\nimport { successToast } from \"@/modules/bootstrap/lib/toast\";\r\ntype Props = {\r\n    redirectUrl?: string;\r\n};\r\nconst { redirectUrl = \"\" } = defineProps<Props>();\r\n\r\nclass ContactForm extends Model {\r\n    get name(): Field {\r\n        return this.field(\"name\", translate(\"Your name*\"), this.initData?.name ?? \"\");\r\n    }\r\n    get email(): Field {\r\n        return this.field(\"email\", translate(\"Your e-mail*\"), this.initData?.email ?? \"\");\r\n    }\r\n    get phone(): Field {\r\n        return this.field(\"phone\", translate(\"Your phone number*\"), this.initData?.phone ?? \"\");\r\n    }\r\n    get CompanyName(): Field {\r\n        return this.field(\"CompanyName\", translate(\"Your company name*\"), this.initData?.CompanyName ?? \"\");\r\n    }\r\n    get message(): Field {\r\n        return this.field(\r\n            \"message\",\r\n            translate(\"your message*\"),\r\n            this.initData?.message ?? \"\"\r\n        );\r\n    }\r\n\r\n    get recaptcha(): Field {\r\n        return this.field(\r\n            \"recaptcha\",\r\n            translate(\"ReCaptcha\"),\r\n            this.initData?.recaptcha ?? \"\"\r\n        );\r\n    }\r\n\r\n    get rules(): any[] {\r\n        return [\r\n            [[this.name, this.phone, this.email, this.message], StringRule],\r\n            [[this.name, this.email, this.message, this.CompanyName, this.phone], RequiredRule],\r\n        ];\r\n    }\r\n}\r\n// const button = ref<any>(null);\r\n\r\nconst [model, newModel, destroyModel] = createModel(ContactForm);\r\n\r\nconst send = () => {\r\n    model.value?.validate()?.then((valid: boolean) => {\r\n        if (valid) {\r\n            //   button.value?.start?.();\r\n            api()\r\n                .post(\"/test\", model.value?.data ?? {})\r\n                .then(({ data }: any) => {\r\n                    successToast('Form Sent');\r\n                    console.log(model.value?.data);\r\n                })\r\n                .catch((err) => {\r\n                    model.value?.addRemoteErrors?.(err);\r\n                })\r\n                .finally(() => {\r\n                    //   button.value?.stop?.();\r\n                });\r\n        }\r\n    });\r\n};\r\n\r\nonMounted(() => {\r\n    newModel();\r\n});\r\n\r\nonUnmounted(() => {\r\n    destroyModel();\r\n});\r\n</script>\r\n<template>\r\n    <form v-if=\"model\" @submit.prevent=\"send\" class=\"contact-form-vue\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n                <StringInput :field=\"model.name\" :class=\"'name'\" no-label> </StringInput>\r\n                <StringInput :field=\"model.CompanyName\" :class=\"'company'\" no-label> </StringInput>\r\n                <StringInput :field=\"model.phone\" :class=\"'number'\" no-label> </StringInput>\r\n                <StringInput :field=\"model.email\" :class=\"'mail'\" no-label> </StringInput>\r\n                <TextInput :placeholder=\"'Your message*'\" :field=\"model.message\" :class=\"'message'\" no-label\r\n                    aria-placeholder=\"Message*\"></TextInput>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n                <div class=\"submit-captcha pt-4\">\r\n                    <div>\r\n                        <Button type=\"submit\" color=\"\" class=\"submit btn-gradient-2\" ref=\"button\">\r\n                            {{ translate(\"Submit Now\") }}\r\n                        </Button>\r\n                    </div>\r\n                    <div class=\"recaptcha\">\r\n                        <RecaptchaInput :field=\"model.recaptcha\"></RecaptchaInput>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</template>\r\n<style lang=\"scss\">\r\n.contact-form-vue {\r\n    padding-top: 4rem;\r\n\r\n    .form-control {\r\n        border: 0;\r\n        padding: 0;\r\n    }\r\n\r\n    .field-wrapper-message,\r\n    .field-wrapper-email,\r\n    .field-wrapper-CompanyName,\r\n    .field-wrapper-name,\r\n    .field-wrapper-phone {\r\n        .input-group {\r\n            padding-bottom: 2rem;\r\n\r\n            textarea {\r\n                border-bottom: solid 1px #C0C5CB;\r\n                border-radius: 0;\r\n                background: transparent;\r\n                height: 100px;\r\n\r\n                &::placeholder {\r\n                    color: #2c3e50;\r\n                    font-weight: 300;\r\n                }\r\n\r\n                &:focus {\r\n                    outline: none;\r\n                    box-shadow: 0px 0px;\r\n                }\r\n            }\r\n\r\n            input {\r\n                border-bottom: solid 1px #C0C5CB;\r\n                border-radius: 0;\r\n                padding-bottom: 5px;\r\n                background: transparent;\r\n\r\n                &::placeholder {\r\n                    color: #2c3e50;\r\n                    font-weight: 300;\r\n                }\r\n\r\n                &:focus {\r\n                    outline: none;\r\n                    box-shadow: 0px 0px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .field-wrapper-CompanyName,\r\n    .field-wrapper-phone {\r\n        .input-group {\r\n            width: 50%;\r\n\r\n            @media (max-width: 767px) {\r\n                width: 100%;\r\n            }\r\n        }\r\n    }\r\n\r\n    .submit {\r\n        // background: #5cd180;\r\n        padding: 8px 45px !important;\r\n        font-weight: 600 !important;\r\n        color: white;\r\n    }\r\n\r\n    .btn-gradient-2 {\r\n        background: linear-gradient(#5cd180, #5cd180) padding-box,\r\n            linear-gradient(to right, #4fff89, #e7ffeb) border-box !important;\r\n        border-radius: 50em !important;\r\n        border: 4px solid transparent !important;\r\n        transition: color 1s;\r\n\r\n        &:hover {\r\n            animation: fillBackground 3s !important;\r\n            background: linear-gradient(#2c3e50, #2c3e50) padding-box,\r\n                linear-gradient(to right, #4fff89, #e7ffeb) border-box !important;\r\n            color: #5cd180 !important;\r\n        }\r\n    }\r\n}\r\n\r\n.submit-captcha {\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    @media (max-width:767px) {\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        flex-flow: column-reverse;\r\n    }\r\n}\r\n</style>","/**\n * ContactForm.vue Startup File\n *\n * @project kloutec\n * @company Codendot <https://codendot.com>\n * @author Jawdat Sobh <jawdat@codendot.com>\n * @since Saturday, October 7, 2023 at 11:16 PM GMT+3\n *\n */\n\nimport { createApp } from \"@/lib/app\"\nimport AppComponent from \"../apps/ContactForm.vue\"\nimport bootstrap from \"../bootstrap/ContactForm\"\n\nconst app = createApp(\"contactform\", AppComponent)\nbootstrap(app)\napp.mount()\n"],"names":["ContactForm","Model","translate","_a","StringRule","RequiredRule","model","newModel","destroyModel","createModel","send","_b","valid","api","data","successToast","err","onMounted","onUnmounted","app","createApp","AppComponent"],"mappings":"0jCAwBA,MAAMA,UAAoBC,CAAM,CAC5B,IAAI,MAAc,OACP,OAAA,KAAK,MAAM,OAAQC,EAAU,YAAY,IAAGC,EAAA,KAAK,WAAL,YAAAA,EAAe,OAAQ,EAAE,CAChF,CACA,IAAI,OAAe,OACR,OAAA,KAAK,MAAM,QAASD,EAAU,cAAc,IAAGC,EAAA,KAAK,WAAL,YAAAA,EAAe,QAAS,EAAE,CACpF,CACA,IAAI,OAAe,OACR,OAAA,KAAK,MAAM,QAASD,EAAU,oBAAoB,IAAGC,EAAA,KAAK,WAAL,YAAAA,EAAe,QAAS,EAAE,CAC1F,CACA,IAAI,aAAqB,OACd,OAAA,KAAK,MAAM,cAAeD,EAAU,oBAAoB,IAAGC,EAAA,KAAK,WAAL,YAAAA,EAAe,cAAe,EAAE,CACtG,CACA,IAAI,SAAiB,OACjB,OAAO,KAAK,MACR,UACAD,EAAU,eAAe,IACzBC,EAAA,KAAK,WAAL,YAAAA,EAAe,UAAW,EAAA,CAElC,CAEA,IAAI,WAAmB,OACnB,OAAO,KAAK,MACR,YACAD,EAAU,WAAW,IACrBC,EAAA,KAAK,WAAL,YAAAA,EAAe,YAAa,EAAA,CAEpC,CAEA,IAAI,OAAe,CACR,MAAA,CACH,CAAC,CAAC,KAAK,KAAM,KAAK,MAAO,KAAK,MAAO,KAAK,OAAO,EAAGC,CAAU,EAC9D,CAAC,CAAC,KAAK,KAAM,KAAK,MAAO,KAAK,QAAS,KAAK,YAAa,KAAK,KAAK,EAAGC,CAAY,CAAA,CAE1F,CACJ,CAGA,KAAM,CAACC,EAAOC,EAAUC,CAAY,EAAIC,EAAYT,CAAW,EAEzDU,EAAO,IAAM,UACfC,GAAAR,EAAAG,EAAM,QAAN,YAAAH,EAAa,aAAb,MAAAQ,EAAyB,KAAMC,GAAmB,OAC1CA,GAEAC,IACK,KAAK,UAASV,EAAAG,EAAM,QAAN,YAAAH,EAAa,OAAQ,CAAA,CAAE,EACrC,KAAK,CAAC,CAAE,KAAAW,KAAgB,OACrBC,EAAa,WAAW,EAChB,QAAA,KAAIZ,EAAAG,EAAM,QAAN,YAAAH,EAAa,IAAI,CAAA,CAChC,EACA,MAAOa,GAAQ,UACNL,GAAAR,EAAAG,EAAA,QAAA,YAAAH,EAAO,kBAAP,MAAAQ,EAAA,KAAAR,EAAyBa,EAAG,CACrC,EACA,QAAQ,IAAM,CAAA,CAEd,CACT,EACH,EAGL,OAAAC,EAAU,IAAM,CACHV,GAAA,CACZ,EAEDW,EAAY,IAAM,CACDV,GAAA,CAChB,80BC5EKW,EAAMC,EAAU,cAAeC,CAAY,EAEjDF,EAAI,MAAM"}